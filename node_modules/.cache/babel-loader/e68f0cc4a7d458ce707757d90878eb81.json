{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1\\\\Desktop\\\\practice\\\\src\\\\pages\\\\articleadding.js\";\nimport React from 'react';\nimport './login.css';\nimport * as firebase from 'firebase';\n\nclass ArticleAdding extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePicUpload = e => {\n      const value = e.target.value;\n\n      if (e.target.files[0].type != 'image/png' && e.target.files[0].type != 'image/jpg') {\n        alert(\"Неправильный тип файла!\");\n        this.setState({\n          img: null\n        });\n      } else {\n        this.setState({\n          img: e.target.files[0]\n        });\n\n        if (this.state.img != null) {\n          alert(this.state.img.name);\n        }\n      }\n    };\n\n    this.handleUserInput = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      title: 'testtitle',\n      maintext: 'testtext',\n      img: null\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handlePicUpload = this.handlePicUpload.bind(this);\n  }\n\n  handleClick() {\n    var d = new Date();\n    var day = d.getDate();\n    var month = d.getMonth() + 1;\n    var year = d.getFullYear();\n    firebase.database().ref('postinfo/' + this.state.title).set({\n      title: this.state.title,\n      maintext: this.state.maintext,\n      date: day + \".\" + month + \".\" + year\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"articleaddingform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }\n    }, \"Sign up\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }\n    }, \"title\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      name: \"title\",\n      placeholder: \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u0441\\u0442\\u0430\\u0442\\u044C\\u0438\",\n      value: this.state.title,\n      onChange: this.handleUserInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }\n    }, \"maintext\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      height: \"300px\",\n      className: \"form-control\",\n      name: \"maintext\",\n      placeholder: \"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0438\\u043C\\u043E\\u0435 \\u0441\\u0442\\u0430\\u0442\\u044C\\u0438\",\n      value: this.state.maintext,\n      onChange: this.handleUserInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }\n    }, \"\\u041A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0430 (jpeg/png)\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      id: \"articleimg\",\n      class: \"\",\n      accept: \".png,.jpg\",\n      onChange: this.handlePicUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 3\n      }\n    }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u044C\\u044E!\"));\n  }\n\n}\n\nexport default ArticleAdding;","map":{"version":3,"sources":["C:/Users/1/Desktop/practice/src/pages/articleadding.js"],"names":["React","firebase","ArticleAdding","Component","constructor","props","handlePicUpload","e","value","target","files","type","alert","setState","img","state","name","handleUserInput","title","maintext","handleClick","bind","d","Date","day","getDate","month","getMonth","year","getFullYear","database","ref","set","date","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './login.css';\r\nimport * as firebase from 'firebase';\r\n\r\n\r\nclass ArticleAdding extends React.Component {\r\n\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      title: 'testtitle',\r\n      maintext: 'testtext',\r\n      img: null,\r\n    };\r\n\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handlePicUpload = this.handlePicUpload.bind(this);\r\n  }\r\n\r\n  handlePicUpload = (e) => {\r\n\r\n    const value = e.target.value;\r\n\r\n    if(e.target.files[0].type != 'image/png' && e.target.files[0].type != 'image/jpg') {\r\n    alert(\"Неправильный тип файла!\");\r\n    this.setState({img: null});\r\n  }\r\n  else {\r\n    this.setState({img: e.target.files[0]});\r\n    if(this.state.img != null) {\r\n    alert(this.state.img.name);}\r\n  }\r\n}\r\n\r\n  handleUserInput = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({[name]: value});\r\n  }\r\n\r\n  handleClick()\r\n  {\r\n\r\n var d = new Date();\r\n var day = d.getDate();\r\n var month = d.getMonth() + 1;\r\n var year = d.getFullYear();\r\n\r\n  firebase.database().ref('postinfo/' + this.state.title).set({\r\n    title: this.state.title,\r\n    maintext: this.state.maintext,\r\n    date: day+\".\"+month+\".\"+year\r\n  });\r\n\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n      return(\r\n    <div>\r\n    <form className=\"articleaddingform\">\r\n    <h2>Sign up</h2>\r\n    <div className=\"panel panel-default\">\r\n\r\n    </div>\r\n    <div>\r\n      title\r\n      <input type=\"text\" required className=\"form-control\" name=\"title\"\r\n        placeholder=\"Заголовок статьи\"\r\n        value={this.state.title}\r\n        onChange={this.handleUserInput}  />\r\n    </div>\r\n    <div>\r\n      maintext\r\n      <input type=\"text\" height=\"300px\" className=\"form-control\" name=\"maintext\"\r\n        placeholder=\"Содержимое статьи\"\r\n        value={this.state.maintext}\r\n        onChange={this.handleUserInput}  />\r\n    </div>\r\n\r\n    <div>\r\n        Картинка (jpeg/png)\r\n        <input type=\"file\" name=\"image\" id=\"articleimg\" class=\"\" accept=\".png,.jpg\" onChange = {this.handlePicUpload}/>\r\n    </div>\r\n\r\n  </form>\r\n  <button onClick={this.handleClick} className=\"btn btn-primary\">Отправить статью!</button>\r\n  </div>\r\n\r\n)\r\n}\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default ArticleAdding;\r\n"]},"metadata":{},"sourceType":"module"}