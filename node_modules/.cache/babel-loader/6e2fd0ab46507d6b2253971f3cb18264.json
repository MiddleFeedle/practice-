{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\middl\\\\Desktop\\\\practice\\\\src\\\\pages\\\\articleedit.js\";\nimport React from 'react';\nimport './articleadding.css';\nimport './home.css';\nimport * as firebase from 'firebase';\n\nclass ArticleEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleUserInput = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      id: \"\",\n      title: \"\",\n      maintext: \"\",\n      date: \"\",\n      exist: true\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const path = \"postinfo/\" + this.state.id;\n    firebase.database().ref(path).set({\n      title: this.state.title,\n      maintext: this.state.maintext,\n      date: this.state.date\n    });\n  }\n\n  componentDidMount() {\n    let newState = [];\n    const db = firebase.database();\n    const path = \"postinfo/\" + this.props.match.params.articleID;\n    const postdata = db.ref(path);\n    postdata.on('value', snapshot => {\n      let data = snapshot.val();\n\n      if (data == null) {\n        this.setState({\n          exist: false\n        });\n      } else {\n        this.setState({\n          id: this.props.match.params.articleID,\n          title: data.title,\n          maintext: data.maintext,\n          date: data.date\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.exist == false) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }\n      }, \"\\u0422\\u0430\\u043A\\u043E\\u0439 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438 \\u043D\\u0435 \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442!\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"articleaddingform\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 5\n        }\n      }, \"title\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        required: true,\n        className: \"form-control\",\n        name: \"title\",\n        placeholder: this.state.title,\n        value: this.state.title,\n        onChange: this.handleUserInput,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 5\n        }\n      }, \"maintext\", /*#__PURE__*/React.createElement(\"textarea\", {\n        type: \"text\",\n        height: \"300px\",\n        className: \"form-control bigtext\",\n        name: \"maintext\",\n        placeholder: this.state.maintext,\n        value: this.state.maintext,\n        onChange: this.handleUserInput,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }\n      }))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 3\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleClick,\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 3\n        }\n      }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u044C\\u044E!\")));\n    }\n  }\n\n}\n\nexport default ArticleEdit;","map":{"version":3,"sources":["C:/Users/middl/Desktop/practice/src/pages/articleedit.js"],"names":["React","firebase","ArticleEdit","Component","constructor","props","handleUserInput","e","name","target","value","setState","state","id","title","maintext","date","exist","handleClick","bind","path","database","ref","set","componentDidMount","newState","db","match","params","articleID","postdata","on","snapshot","data","val","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './articleadding.css';\r\n\r\nimport './home.css';\r\nimport * as firebase from 'firebase';\r\n\r\n\r\n\r\nclass ArticleEdit extends React.Component\r\n\r\n{\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n     id: \"\",\r\n     title: \"\",\r\n     maintext: \"\",\r\n     date: \"\",\r\n     exist: true\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n\r\n  }\r\n\r\n  handleUserInput = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({[name]: value});\r\n  }\r\n\r\n\r\n  handleClick()\r\n  {\r\n\r\nconst path = \"postinfo/\" + this.state.id;\r\n  firebase.database().ref(path).set({\r\n    title: this.state.title,\r\n    maintext: this.state.maintext,\r\n    date: this.state.date\r\n  });\r\n}\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    let newState = [];\r\n    const db = firebase.database();\r\n    const path = \"postinfo/\"+this.props.match.params.articleID;\r\n\r\n    const postdata = db.ref(path);\r\n\r\n    postdata.on('value', (snapshot) =>\r\n    {\r\n        let data = snapshot.val();\r\n        if(data==null) { this.setState({exist: false});}\r\n        else {\r\n        this.setState({\r\n          id: this.props.match.params.articleID,\r\n          title: data.title,\r\n          maintext: data.maintext,\r\n          date: data.date\r\n        });}\r\n});\r\n\r\n  }\r\n\r\n  render() {\r\n    if(this.state.exist == false)\r\n    {\r\n      return(<div>Такой записи не существует!</div>)\r\n    }\r\n    else {\r\n      return(\r\n    <div>\r\n    <div className = \"container\">\r\n\r\n    <form className=\"articleaddingform\">\r\n    <div>\r\n      title\r\n      <input type=\"text\" required className=\"form-control\" name=\"title\"\r\n        placeholder={this.state.title}\r\n        value={this.state.title}\r\n        onChange={this.handleUserInput}  />\r\n    </div>\r\n    <br />\r\n    <div>\r\n      maintext\r\n      <textarea type=\"text\" height=\"300px\" className=\"form-control bigtext\" name=\"maintext\"\r\n        placeholder={this.state.maintext}\r\n        value={this.state.maintext}\r\n        onChange={this.handleUserInput}  />\r\n    </div>\r\n  </form>\r\n  <br /><br />\r\n  <button onClick={this.handleClick} className=\"btn btn-primary\">Отправить статью!</button>\r\n  </div>\r\n  </div>\r\n\r\n)\r\n}\r\n}\r\n}\r\n\r\nexport default ArticleEdit;\r\n"]},"metadata":{},"sourceType":"module"}